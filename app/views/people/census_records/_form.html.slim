= simple_form_for @record, as: :census_record, html: { autocomplete: 'off' } do |form|

  .card.mb-1
    .card-header
      | Census Scope
    .card-body
      .row
        /.col-sm-2= form.input :page_number
        .col-sm-1= form.input :page_number, as: :integer, input_html: { min: 0, max: 10_000 }
        .col-sm-1= form.input :page_side, collection: %w{A B}
        .col-sm-2= form.input :line_number, as: :integer, input_html: { min: 0, max: 100 }
        .col-sm-2= form.input :county
        .col-sm-2= form.input :city, input_html: { id: 'city' }
        .col-sm-2= form.input :ward, as: :integer, input_html: { min: 0, max: 10_000 }
        .col-sm-2= form.input :enum_dist, as: :integer, input_html: { min: 0, max: 10_000 }

      .row
        .col-sm-1
          = form.input :street_house_number, input_html: { autocomplete: 'new-password' }
        .col-sm-1
          = form.input :street_prefix, collection: %w{N S E W}, input_html: { autocomplete: 'new-password' }
        .col-sm-8
          = form.input :street_name, input_html: { id: 'street_name' }, input_html: { autocomplete: 'new-password' }
        .col-sm-1
          = form.input :street_suffix, collection: CensusRecord.street_suffix_choices, input_html: { autocomplete: 'new-password' }
        .col-sm-1
          = form.input :apartment_number, input_html: { autocomplete: 'new-password' }
      .row
        .col-sm-6
          = form.input :building_id, as: :select, collection: form.object.buildings_on_street, input_html: { id: 'building_id' }
          - unless form.object.building_id
            = form.input :ensure_building, as: :boolean, label: 'Add building with address'
        .col-sm-3= form.input :dwelling_number
        .col-sm-3= form.input :family_id

  = render 'fields', form: form

  .card.mb-1
    .card-body
      = form.input :notes, as: :text
      - if can?(:provisional, form.object)
        = form.input :provisional, as: :boolean, inline_label: 'This record is provisional. We made it up from other sources because census record is missing or illegible.'
      = form.input :taker_error, as: :boolean, inline_label: 'There is an error on the census record on the part of the census taker that prevents this record from saving.'
  .form-actions
    = form.submit 'Save', class: 'btn btn-primary btn-lg'
    span
      | After saving, add another person:
    = select_tag 'then', options_for_select([['In this family', 'family'], ['In this dwelling', 'dwelling'], ['On this page', 'page'], ['In this enumeration district', 'enumeration']], params[:then]), prompt: 'Select'
